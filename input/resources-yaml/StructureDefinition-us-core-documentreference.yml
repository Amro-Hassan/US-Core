abstract: false
baseDefinition: http://hl7.org/fhir/StructureDefinition/DocumentReference
date: '2022-04-20'
derivation: constraint
description: To promote interoperability and adoption through common implementation,
  this profile sets minimum expectations for searching and fetching patient documents
  including Clinical Notes using the DocumentReference resource. It identifies the
  mandatory core elements, extensions, vocabularies and value sets which **SHALL**
  be present in the DocumentReference resource when using this profile. It provides
  the floor for standards development for specific use cases. Prior to reviewing this
  profile, implementers are encouraged to read the Clinical Notes Guidance to understand
  the overlap of US Core DocumentReference Profile and US Core DiagnosticReport Profile
  for Report and Note exchange.
differential:
  element:
  - comment: \-
    definition: \-
    id: DocumentReference
    mustSupport: false
    path: DocumentReference
  - id: DocumentReference.identifier
    mustSupport: true
    path: DocumentReference.identifier
  - binding:
      strength: required
      valueSet: http://hl7.org/fhir/ValueSet/document-reference-status
    id: DocumentReference.status
    mustSupport: true
    path: DocumentReference.status
  - binding:
      description: All LOINC  values whose SCALE is DOC in the LOINC database and
        the HL7 v3 Code System NullFlavor concept 'unknown'
      extension:
      - url: http://hl7.org/fhir/StructureDefinition/elementdefinition-minValueSet
        valueCanonical: http://hl7.org/fhir/us/core/ValueSet/us-core-clinical-note-type
      strength: required
      valueSet: http://hl7.org/fhir/us/core/ValueSet/us-core-documentreference-type
    id: DocumentReference.type
    min: 1
    mustSupport: true
    path: DocumentReference.type
  - id: DocumentReference.category
    min: 1
    mustSupport: true
    path: DocumentReference.category
    slicing:
      discriminator:
      - path: $this
        type: pattern
      rules: open
  - binding:
      description: The US Core DocumentReferences Type Value Set is a "starter
        set" of categories supported for fetching and storing clinical notes.
        Note that other codes are permitted, see [Required Bindings When Slicing by
        Value Sets](http://hl7.org/fhir/us/core/general-requirements.html#required-bindings-when-slicing-by-value-sets)
      strength: required
      valueSet: http://hl7.org/fhir/us/core/ValueSet/us-core-documentreference-category
    id: DocumentReference.category:us-core
    mustSupport: true
    path: DocumentReference.category
    sliceName: us-core
  - id: DocumentReference.subject
    min: 1
    mustSupport: true
    path: DocumentReference.subject
    type:
    - code: Reference
      targetProfile:
      - http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient
  - id: DocumentReference.date
    mustSupport: true
    path: DocumentReference.date
  - id: DocumentReference.author
    mustSupport: true
    path: DocumentReference.author
    type:
    - _targetProfile:
      - extension:
        - url: http://hl7.org/fhir/StructureDefinition/elementdefinition-type-must-support
          valueBoolean: true
      - extension:
        - url: http://hl7.org/fhir/StructureDefinition/elementdefinition-type-must-support
          valueBoolean: false
      - extension:
        - url: http://hl7.org/fhir/StructureDefinition/elementdefinition-type-must-support
          valueBoolean: false
      - extension:
        - url: http://hl7.org/fhir/StructureDefinition/elementdefinition-type-must-support
          valueBoolean: false
      - extension:
        - url: http://hl7.org/fhir/StructureDefinition/elementdefinition-type-must-support
          valueBoolean: false
      - extension:
        - url: http://hl7.org/fhir/StructureDefinition/elementdefinition-type-must-support
          valueBoolean: false
      code: Reference
      targetProfile:
      - http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitioner
      - http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization
      - http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient
      - http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitionerrole
      - http://hl7.org/fhir/us/core/StructureDefinition/us-core-relatedperson
      - http://hl7.org/fhir/StructureDefinition/Device
  - id: DocumentReference.content
    mustSupport: true
    path: DocumentReference.content
  - constraint:
    - expression: url.exists() or data.exists()
      human: DocumentReference.content.attachment.url or DocumentReference.content.attachment.data
        or both SHALL be present.
      key: us-core-6
      severity: error
      xpath: f:url or f:content
    id: DocumentReference.content.attachment
    mustSupport: true
    path: DocumentReference.content.attachment
  - id: DocumentReference.content.attachment.contentType
    mustSupport: true
    path: DocumentReference.content.attachment.contentType
  - condition:
    - us-core-6
    id: DocumentReference.content.attachment.data
    min: 0
    mustSupport: true
    path: DocumentReference.content.attachment.data
  - condition:
    - us-core-6
    id: DocumentReference.content.attachment.url
    min: 0
    mustSupport: true
    path: DocumentReference.content.attachment.url
  - binding:
      strength: extensible
      valueSet: http://hl7.org/fhir/ValueSet/formatcodes
    id: DocumentReference.content.format
    mustSupport: true
    path: DocumentReference.content.format
  - id: DocumentReference.context
    mustSupport: true
    path: DocumentReference.context
  - id: DocumentReference.context.encounter
    max: '1'
    mustSupport: true
    path: DocumentReference.context.encounter
    type:
    - code: Reference
      targetProfile:
      - http://hl7.org/fhir/us/core/StructureDefinition/us-core-encounter
  - id: DocumentReference.context.period
    mustSupport: true
    path: DocumentReference.context.period
experimental: false
fhirVersion: 4.0.1
id: us-core-documentreference
kind: resource
name: USCoreDocumentReferenceProfile
resourceType: StructureDefinition
status: active
title: US Core DocumentReference Profile
type: DocumentReference
url: http://hl7.org/fhir/us/core/StructureDefinition/us-core-documentreference
version: 3.1.1
